var removeFixedElems=e=>{const t=(e,t)=>window.getComputedStyle(e,null).getPropertyValue(t),n=(e,t,n)=>e.style.setProperty(t,n,"important"),o=e=>chrome.storage.sync.get(["stats"],t=>{const n=Math.round(e.cleanedArea/e.windowArea*10)/10,o={cleanedArea:t.stats.cleanedArea+n,numbOfItems:t.stats.numbOfItems+e.numbOfItems};isNaN(o.cleanedArea)||isNaN(o.numbOfItems)||chrome.storage.sync.set({stats:o})}),s=(e,t)=>{const n=e.offsetHeight*e.offsetWidth;return isNaN(n)?t:{...t,numbOfItems:t.numbOfItems+1,cleanedArea:t.cleanedArea+n}};let a=e?{windowArea:window.innerHeight*window.innerWidth,cleanedArea:0,numbOfItems:0}:null;const i=document.documentElement,r=document.body,l=r.getElementsByTagName("*"),m=o=>{"fixed"!=t(o,"position")&&"sticky"!=t(o,"position")||(o.setAttribute("data-popupoffExtension","hello"),n(o,"display","none"),e&&(a=s(o,a))),"none"==t(o,"filter")&&"none"==t(o,"-webkit-filter")||(n(o,"filter","none"),n(o,"-webkit-filter","none"),e&&(a={...a,numbOfItems:a.numbOfItems+1})),"absolute"==t(o,"position")&&(n(o,"display","none"),e&&(a=s(o,a)))};n(i,"overflow-y","unset"),n(r,"overflow-y","unset"),n(i,"position","relative"),n(r,"position","relative"),(e=>{[...e].map(m)})(l),e&&(o(a),window.addEventListener("beforeunload",()=>{o(a)}))};chrome.storage.sync.get(["statsEnabled"],e=>{removeFixedElems(e.statsEnabled)});
