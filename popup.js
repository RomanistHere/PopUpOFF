"use strict";let toggleEverywhereInp=document.getElementById("toggleEverywhereInp");toggleEverywhereInp.onchange=function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(e){toggleEverywhereInp.checked?(toggleEasyInp.checked&&(toggleEasyInp.checked=!1,document.getElementById("textOnOffEasyMode").textContent="on",chrome.tabs.executeScript(e[0].id,{file:"restore.js"}),chrome.storage.sync.set({autoWorkEasy:!1})),chrome.tabs.executeScript(e[0].id,{file:"removeHard.js"}),chrome.tabs.executeScript(e[0].id,{file:"watchDOM.js"}),chrome.storage.sync.set({autoWork:!0}),document.getElementById("textOnOff").textContent="off",_gaq.push(["_trackEvent","toggleEverywhereInp","on"])):(chrome.tabs.executeScript(e[0].id,{file:"restore.js"}),chrome.storage.sync.set({autoWork:!1}),document.getElementById("textOnOff").textContent="on",_gaq.push(["_trackEvent","toggleEverywhereInp","off"]))})};let toggleEasyInp=document.getElementById("toggleEasyInp");toggleEasyInp.onchange=function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(e){toggleEasyInp.checked?(toggleEverywhereInp.checked&&(toggleEverywhereInp.checked=!1,document.getElementById("textOnOff").textContent="on",chrome.tabs.executeScript(null,{file:"restoreEasy.js"}),chrome.storage.sync.set({autoWork:!1})),chrome.tabs.executeScript(null,{file:"removeEasy.js"}),chrome.tabs.executeScript(null,{file:"watchDOM.js"}),chrome.storage.sync.set({autoWorkEasy:!0}),document.getElementById("textOnOffEasyMode").textContent="off",_gaq.push(["_trackEvent","toggleEasyInp","on"])):(chrome.tabs.executeScript(null,{file:"restore.js"}),chrome.storage.sync.set({autoWorkEasy:!1}),document.getElementById("textOnOffEasyMode").textContent="on",_gaq.push(["_trackEvent","toggleEasyInp","off"]))})};let toggleThisWebSiteInp=document.getElementById("toggleThisWebSiteInp");toggleThisWebSiteInp.onchange=function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.storage.sync.get("thisWebsiteWork",function(t){let n=e[0].url,o=e[0].url.substring(n.lastIndexOf("//")+2,n.indexOf("/",8)),s=t.thisWebsiteWork;toggleThisWebSiteInp.checked?(toggleEasyInpThisWebSite.checked&&(toggleEasyInpThisWebSite.checked=!1,document.getElementById("textOnOffEasyModeThisWEbsite").textContent="on",s=s.filter(e=>e!==o),chrome.storage.sync.set({thisWebsiteWorkEasy:s})),chrome.tabs.executeScript(null,{file:"removeHard.js"}),chrome.tabs.executeScript(null,{file:"watchDOM.js"}),s.push(o),chrome.storage.sync.set({thisWebsiteWork:s}),document.getElementById("textOnOffSite").textContent="off",_gaq.push(["_trackEvent","toggleThisWebSiteInp","on"])):(chrome.tabs.executeScript(null,{file:"restore.js"}),s=s.filter(e=>e!==o),chrome.storage.sync.set({thisWebsiteWork:s}),document.getElementById("textOnOffSite").textContent="on",_gaq.push(["_trackEvent","toggleThisWebSiteInp","off"]))})})};let toggleEasyInpThisWebSite=document.getElementById("toggleEasyInpThisWebSite");toggleEasyInpThisWebSite.onchange=function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.storage.sync.get("thisWebsiteWorkEasy",function(t){let n=e[0].url,o=e[0].url.substring(n.lastIndexOf("//")+2,n.indexOf("/",8)),s=t.thisWebsiteWorkEasy;toggleEasyInpThisWebSite.checked?(toggleThisWebSiteInp.checked&&(chrome.tabs.executeScript(null,{file:"restoreEasy.js"}),s=s.filter(e=>e!==o),chrome.storage.sync.set({thisWebsiteWork:s}),toggleThisWebSiteInp.checked=!1,document.getElementById("textOnOffSite").textContent="on"),chrome.tabs.executeScript(null,{file:"removeEasy.js"}),chrome.tabs.executeScript(null,{file:"watchDOM.js"}),s.push(o),chrome.storage.sync.set({thisWebsiteWorkEasy:s}),document.getElementById("textOnOffEasyModeThisWEbsite").textContent="off",_gaq.push(["_trackEvent","toggleEasyInpThisWebSite","on"])):(chrome.tabs.executeScript(null,{file:"restore.js"}),s=s.filter(e=>e!==o),chrome.storage.sync.set({thisWebsiteWorkEasy:s}),document.getElementById("textOnOffEasyModeThisWEbsite").textContent="on",_gaq.push(["_trackEvent","toggleEasyInpThisWebSite","off"]))})})};let toggleThisPageInp=document.getElementById("toggleThisPageInp");function initState(){chrome.storage.sync.get("autoWork",function(e){e.autoWork&&(document.getElementById("toggleEverywhereInp").checked=!0,document.getElementById("textOnOff").textContent="off")}),chrome.storage.sync.get("autoWorkEasy",function(e){e.autoWorkEasy&&(document.getElementById("toggleEasyInp").checked=!0,document.getElementById("textOnOffEasyMode").textContent="off")}),chrome.tabs.query({active:!0,currentWindow:!0},function(e){let t=e[0].url,n=e[0].url.substring(t.lastIndexOf("//")+2,t.indexOf("/",8));chrome.storage.sync.get("thisWebsiteWork",function(e){e.thisWebsiteWork.includes(n)&&(document.getElementById("toggleThisWebSiteInp").checked=!0,document.getElementById("textOnOffSite").textContent="off")}),chrome.storage.sync.get("thisWebsiteWorkEasy",function(e){e.thisWebsiteWorkEasy.includes(n)&&(document.getElementById("toggleEasyInpThisWebSite").checked=!0,document.getElementById("textOnOffEasyModeThisWEbsite").textContent="off")}),chrome.tabs.sendMessage(e[0].id,{method:"getStatusThisPage"},function(e){e&&(document.getElementById("toggleThisPageInp").checked=!0)})})}toggleThisPageInp.onchange=function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(e){toggleThisPageInp.checked?(chrome.tabs.executeScript(null,{file:"removeAll.js"}),chrome.tabs.executeScript(null,{file:"watchDOM.js"}),chrome.tabs.sendMessage(e[0].id,{method:"setStatusThisPage",thisPageOn:!0}),_gaq.push(["_trackEvent","toggleThisPageInp","on"])):(toggleEverywhereInp.checked||toggleThisWebSiteInp.checked||chrome.tabs.executeScript(null,{file:"restoreEasy.js"}),toggleEasyInp.checked||toggleEverywhereInp.checked||toggleThisWebSiteInp.checked||toggleEasyInpThisWebSite.checked||chrome.tabs.executeScript(null,{file:"restore.js"}),chrome.tabs.sendMessage(e[0].id,{method:"setStatusThisPage",thisPageOn:!1}),_gaq.push(["_trackEvent","toggleThisPageInp","off"]))})},initState();var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-138501898-1"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://ssl.google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),document.getElementsByClassName("insturctions")[0].addEventListener("click",function(){_gaq.push(["_trackEvent","instructions","clicked"])});