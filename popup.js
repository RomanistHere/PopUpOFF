"use strict";let toggleThisWebSiteInp=document.getElementById("toggleThisWebSiteInp");toggleThisWebSiteInp.onchange=function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.storage.sync.get("thisWebsiteWork",function(t){let s=e[0].url,n=e[0].url.substring(s.lastIndexOf("//")+2,s.indexOf("/",8)),i=t.thisWebsiteWork;toggleThisWebSiteInp.checked?(toggleEasyInpThisWebSite.checked&&(toggleEasyInpThisWebSite.checked=!1,document.getElementById("textOnOffEasyModeThisWEbsite").textContent="on",i=i.filter(e=>e!==n),chrome.storage.sync.set({thisWebsiteWorkEasy:i})),chrome.tabs.executeScript(null,{file:"removeHard.js"}),chrome.tabs.executeScript(null,{file:"watchDOM.js"}),i.push(n),chrome.storage.sync.set({thisWebsiteWork:i}),document.getElementById("textOnOffSite").textContent="off",_gaq.push(["_trackEvent","toggleThisWebSiteInp","on"])):(toggleThisPageInp.checked||chrome.tabs.executeScript(null,{file:"restore.js"}),i=i.filter(e=>e!==n),chrome.storage.sync.set({thisWebsiteWork:i}),document.getElementById("textOnOffSite").textContent="on",_gaq.push(["_trackEvent","toggleThisWebSiteInp","off"]))})})};let toggleEasyInpThisWebSite=document.getElementById("toggleEasyInpThisWebSite");toggleEasyInpThisWebSite.onchange=function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.storage.sync.get("thisWebsiteWorkEasy",function(t){let s=e[0].url,n=e[0].url.substring(s.lastIndexOf("//")+2,s.indexOf("/",8)),i=t.thisWebsiteWorkEasy;toggleEasyInpThisWebSite.checked?(toggleThisWebSiteInp.checked&&(chrome.tabs.executeScript(null,{file:"restoreEasy.js"}),i=i.filter(e=>e!==n),chrome.storage.sync.set({thisWebsiteWork:i}),toggleThisWebSiteInp.checked=!1,document.getElementById("textOnOffSite").textContent="on"),chrome.tabs.executeScript(null,{file:"removeEasy.js"}),chrome.tabs.executeScript(null,{file:"watchDOM.js"}),i.push(n),chrome.storage.sync.set({thisWebsiteWorkEasy:i}),document.getElementById("textOnOffEasyModeThisWEbsite").textContent="off",_gaq.push(["_trackEvent","toggleEasyInpThisWebSite","on"])):(toggleThisPageInp.checked||chrome.tabs.executeScript(null,{file:"restore.js"}),i=i.filter(e=>e!==n),chrome.storage.sync.set({thisWebsiteWorkEasy:i}),document.getElementById("textOnOffEasyModeThisWEbsite").textContent="on",_gaq.push(["_trackEvent","toggleEasyInpThisWebSite","off"]))})})};let toggleThisPageInp=document.getElementById("toggleThisPageInp");function initState(){chrome.tabs.query({active:!0,currentWindow:!0},function(e){let t=e[0].url,s=e[0].url.substring(t.lastIndexOf("//")+2,t.indexOf("/",8));chrome.storage.sync.get("thisWebsiteWork",function(e){e.thisWebsiteWork.includes(s)&&(document.getElementById("toggleThisWebSiteInp").checked=!0,document.getElementById("textOnOffSite").textContent="off")}),chrome.storage.sync.get("thisWebsiteWorkEasy",function(e){e.thisWebsiteWorkEasy.includes(s)&&(document.getElementById("toggleEasyInpThisWebSite").checked=!0,document.getElementById("textOnOffEasyModeThisWEbsite").textContent="off")}),chrome.tabs.sendMessage(e[0].id,{method:"getStatusThisPage"},function(e){e&&(document.getElementById("toggleThisPageInp").checked=!0)})})}toggleThisPageInp.onchange=function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(e){toggleThisPageInp.checked?(chrome.tabs.executeScript(null,{file:"removeAll.js"}),chrome.tabs.executeScript(null,{file:"watchDOM.js"}),chrome.tabs.sendMessage(e[0].id,{method:"setStatusThisPage",thisPageOn:!0}),_gaq.push(["_trackEvent","toggleThisPageInp","on"])):(toggleThisWebSiteInp.checked||chrome.tabs.executeScript(null,{file:"restoreEasy.js"}),toggleThisWebSiteInp.checked||toggleEasyInpThisWebSite.checked||chrome.tabs.executeScript(null,{file:"restore.js"}),chrome.tabs.sendMessage(e[0].id,{method:"setStatusThisPage",thisPageOn:!1}),_gaq.push(["_trackEvent","toggleThisPageInp","off"]))})},initState();var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-138501898-1"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://ssl.google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),document.getElementsByClassName("insturctions")[0].addEventListener("click",function(){_gaq.push(["_trackEvent","instructions","clicked"])});